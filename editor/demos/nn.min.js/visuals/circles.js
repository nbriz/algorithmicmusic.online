// canvas for waveform visualization
const c = nn.create('canvas').addTo('body')
// we'll place it in the top/left corner of the page
c.position(0, 0)
// and we'll make sure it's width/height match the size of the page
c.width = nn.width
c.height = nn.height

// we'll change the "fill" color and fill the screen
c.fillStyle = '#f92672'
c.rect(0, 0, c.width, c.height)

// write a message onto the canvas
c.font = '42px system-ui'
c.fillStyle = 'black'
c.text('click on this canvas', 100, 100)

// Tone.js Synth (for demonstration)
const synth = new Tone.Synth().toDestination()

// reset color back to pink
c.fillStyle = '#f92672'

function playAndDraw () {
  // play a random frequency for a random duration
  const freq = nn.random(220, 880)
  const dur = nn.random(0.1, 0.5)
  synth.triggerAttackRelease(freq, dur)

  // draw a random circle
  const x = nn.random(0, c.width)
  const y = nn.random(0, c.height)
  const r = nn.random(10, 100) // radius
  c.circle(x, y, r)
}

// run when we click anywhere on the full screen canvas
c.on('click', playAndDraw)
