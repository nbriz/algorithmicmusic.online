/*
  [MIDI](https://en.wikipedia.org/wiki/MIDI) (or Musical Instrument Digital Interface) is a music data protocol developed in the 1980s, still in active use today. One common use case for this protocol is sending data/messages between a physical interface, known as [MIDI controllers](https://en.wikipedia.org/wiki/MIDI_controller), and a piece of music software. If you connect a MIDI controller to your computer, the example below should be able to pick it up and display any messages sent from the controller.

  NOTE: this works on Chrome, but sadly not on Firefox
*/

const output = nn.create('pre')
  .addTo('body')
  .css({ height: '100vh', overflow: 'scroll' })
  .content('MIDI DATA GOES HERE:<br>')

function displayData (msg) {
  const d = `device: ${msg.dev}, channel: ${msg.chl}, value: ${msg.val}<br>`
  output.innerHTML += d // append new data
  output.scrollTop = output.scrollHeight // auto-scroll
}

// run the function every time we receive a new MIDI message
nn.MIDI(displayData)
